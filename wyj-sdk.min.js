var $wyj=function(t){"use strict";var r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=e(function(t,e){(function(t,e,n){var i=function(t,e,n){n=d.extend({},d.options,n);var r=d.runValidations(t,e,n);if(r.some(function(t){return d.isPromise(t.error)}))throw new Error("Use validate.async if you want support for promises");return i.processValidationResults(r,n)},d=i;d.extend=function(n){return[].slice.call(arguments,1).forEach(function(t){for(var e in t)n[e]=t[e]}),n},d.extend(i,{version:{major:0,minor:12,patch:0,metadata:null,toString:function(){var t=d.format("%{major}.%{minor}.%{patch}",d.version);return d.isEmpty(d.version.metadata)||(t+="+"+d.version.metadata),t}},Promise:"undefined"!=typeof Promise?Promise:null,EMPTY_STRING_REGEXP:/^\s*$/,runValidations:function(t,e,n){var r,i,o,s,a,u,c,f=[];for(r in(d.isDomElement(t)||d.isJqueryElement(t))&&(t=d.collectFormValues(t)),e)for(i in o=d.getDeepObjectValue(t,r),s=d.result(e[r],o,t,r,n,e)){if(!(a=d.validators[i]))throw c=d.format("Unknown validator %{name}",{name:i}),new Error(c);u=s[i],(u=d.result(u,o,t,r,n,e))&&f.push({attribute:r,value:o,validator:i,globalOptions:n,attributes:t,options:u,error:a.call(a,o,u,r,t,n)})}return f},processValidationResults:function(t,e){t=d.pruneEmptyErrors(t,e),t=d.expandMultipleErrors(t,e),t=d.convertErrorMessages(t,e);var n=e.format||"grouped";if("function"!=typeof d.formatters[n])throw new Error(d.format("Unknown format %{format}",e));return t=d.formatters[n](t),d.isEmpty(t)?void 0:t},async:function(r,i,o){var s=(o=d.extend({},d.async.options,o)).wrapErrors||function(t){return t};!1!==o.cleanAttributes&&(r=d.cleanAttributes(r,i));var a=d.runValidations(r,i,o);return new d.Promise(function(e,n){d.waitForResults(a).then(function(){var t=d.processValidationResults(a,o);t?n(new s(t,o,r,i)):e(r)},function(t){n(t)})})},single:function(t,e,n){return n=d.extend({},d.single.options,n,{format:"flat",fullMessages:!1}),d({single:t},{single:e},n)},waitForResults:function(t){return t.reduce(function(t,e){return d.isPromise(e.error)?t.then(function(){return e.error.then(function(t){e.error=t||null})}):t},new d.Promise(function(t){t()}))},result:function(t){var e=[].slice.call(arguments,1);return"function"==typeof t&&(t=t.apply(null,e)),t},isNumber:function(t){return"number"==typeof t&&!isNaN(t)},isFunction:function(t){return"function"==typeof t},isInteger:function(t){return d.isNumber(t)&&t%1==0},isBoolean:function(t){return"boolean"==typeof t},isObject:function(t){return t===Object(t)},isDate:function(t){return t instanceof Date},isDefined:function(t){return null!=t},isPromise:function(t){return!!t&&d.isFunction(t.then)},isJqueryElement:function(t){return t&&d.isString(t.jquery)},isDomElement:function(t){return!!t&&(!(!t.querySelectorAll||!t.querySelector)&&(!(!d.isObject(document)||t!==document)||("object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)))},isEmpty:function(t){var e;if(!d.isDefined(t))return!0;if(d.isFunction(t))return!1;if(d.isString(t))return d.EMPTY_STRING_REGEXP.test(t);if(d.isArray(t))return 0===t.length;if(d.isDate(t))return!1;if(d.isObject(t)){for(e in t)return!1;return!0}return!1},format:d.extend(function(t,r){return d.isString(t)?t.replace(d.format.FORMAT_REGEXP,function(t,e,n){return"%"===e?"%{"+n+"}":String(r[n])}):t},{FORMAT_REGEXP:/(%?)%\{([^\}]+)\}/g}),prettify:function(t){return d.isNumber(t)?100*t%1==0?""+t:parseFloat(Math.round(100*t)/100).toFixed(2):d.isArray(t)?t.map(function(t){return d.prettify(t)}).join(", "):d.isObject(t)?t.toString():(t=""+t).replace(/([^\s])\.([^\s])/g,"$1 $2").replace(/\\+/g,"").replace(/[_-]/g," ").replace(/([a-z])([A-Z])/g,function(t,e,n){return e+" "+n.toLowerCase()}).toLowerCase()},stringifyValue:function(t,e){return(e&&e.prettify||d.prettify)(t)},isString:function(t){return"string"==typeof t},isArray:function(t){return"[object Array]"==={}.toString.call(t)},isHash:function(t){return d.isObject(t)&&!d.isArray(t)&&!d.isFunction(t)},contains:function(t,e){return!!d.isDefined(t)&&(d.isArray(t)?-1!==t.indexOf(e):e in t)},unique:function(t){return d.isArray(t)?t.filter(function(t,e,n){return n.indexOf(t)==e}):t},forEachKeyInKeypath:function(t,e,n){if(d.isString(e)){var r,i="",o=!1;for(r=0;r<e.length;++r)switch(e[r]){case".":o?(o=!1,i+="."):(t=n(t,i,!1),i="");break;case"\\":o?(o=!1,i+="\\"):o=!0;break;default:o=!1,i+=e[r]}return n(t,i,!0)}},getDeepObjectValue:function(t,e){if(d.isObject(t))return d.forEachKeyInKeypath(t,e,function(t,e){if(d.isObject(t))return t[e]})},collectFormValues:function(t,e){var n,r,i,o,s,a,u={};if(d.isJqueryElement(t)&&(t=t[0]),!t)return u;for(e=e||{},o=t.querySelectorAll("input[name], textarea[name]"),n=0;n<o.length;++n)i=o.item(n),d.isDefined(i.getAttribute("data-ignored"))||(name=i.name.replace(/\./g,"\\\\."),a=d.sanitizeFormValue(i.value,e),"number"===i.type?a=a?+a:null:"checkbox"===i.type?i.attributes.value?i.checked||(a=u[name]||null):a=i.checked:"radio"===i.type&&(i.checked||(a=u[name]||null)),u[name]=a);for(o=t.querySelectorAll("select[name]"),n=0;n<o.length;++n)if(i=o.item(n),!d.isDefined(i.getAttribute("data-ignored"))){if(i.multiple)for(r in a=[],i.options)(s=i.options[r])&&s.selected&&a.push(d.sanitizeFormValue(s.value,e));else{var c=void 0!==i.options[i.selectedIndex]?i.options[i.selectedIndex].value:"";a=d.sanitizeFormValue(c,e)}u[i.name]=a}return u},sanitizeFormValue:function(t,e){return e.trim&&d.isString(t)&&(t=t.trim()),!1!==e.nullify&&""===t?null:t},capitalize:function(t){return d.isString(t)?t[0].toUpperCase()+t.slice(1):t},pruneEmptyErrors:function(t){return t.filter(function(t){return!d.isEmpty(t.error)})},expandMultipleErrors:function(t){var n=[];return t.forEach(function(e){d.isArray(e.error)?e.error.forEach(function(t){n.push(d.extend({},e,{error:t}))}):n.push(e)}),n},convertErrorMessages:function(t,n){var r=[],i=(n=n||{}).prettify||d.prettify;return t.forEach(function(t){var e=d.result(t.error,t.value,t.attribute,t.options,t.attributes,t.globalOptions);d.isString(e)?("^"===e[0]?e=e.slice(1):!1!==n.fullMessages&&(e=d.capitalize(i(t.attribute))+" "+e),e=e.replace(/\\\^/g,"^"),e=d.format(e,{value:d.stringifyValue(t.value,n)}),r.push(d.extend({},t,{error:e}))):r.push(t)}),r},groupErrorsByAttribute:function(t){var n={};return t.forEach(function(t){var e=n[t.attribute];e?e.push(t):n[t.attribute]=[t]}),n},flattenErrorsToArray:function(t){return t.map(function(t){return t.error}).filter(function(t,e,n){return n.indexOf(t)===e})},cleanAttributes:function(t,e){function r(t,e,n){return d.isObject(t[e])?t[e]:t[e]=!!n||{}}return d.isObject(e)&&d.isObject(t)?function t(e,n){if(!d.isObject(e))return e;var r,i,o=d.extend({},e);for(i in e)r=n[i],d.isObject(r)?o[i]=t(o[i],r):r||delete o[i];return o}(t,e=function(t){var e,n={};for(e in t)t[e]&&d.forEachKeyInKeypath(n,e,r);return n}(e)):{}},exposeModule:function(t,e,n,r,i){n?(r&&r.exports&&(n=r.exports=t),n.validate=t):(e.validate=t).isFunction(i)&&i.amd&&i([],function(){return t})},warn:function(t){"undefined"!=typeof console&&console.warn&&console.warn("[validate.js] "+t)},error:function(t){"undefined"!=typeof console&&console.error&&console.error("[validate.js] "+t)}}),i.validators={presence:function(t,e){if(!1!==(e=d.extend({},this.options,e)).allowEmpty?!d.isDefined(t):d.isEmpty(t))return e.message||this.message||"can't be blank"},length:function(t,e,n){if(d.isDefined(t)){var r,i=(e=d.extend({},this.options,e)).is,o=e.maximum,s=e.minimum,a=[],u=(t=(e.tokenizer||function(t){return t})(t)).length;return d.isNumber(u)?(d.isNumber(i)&&u!==i&&(r=e.wrongLength||this.wrongLength||"is the wrong length (should be %{count} characters)",a.push(d.format(r,{count:i}))),d.isNumber(s)&&u<s&&(r=e.tooShort||this.tooShort||"is too short (minimum is %{count} characters)",a.push(d.format(r,{count:s}))),d.isNumber(o)&&o<u&&(r=e.tooLong||this.tooLong||"is too long (maximum is %{count} characters)",a.push(d.format(r,{count:o}))),0<a.length?e.message||a:void 0):(d.error(d.format("Attribute %{attr} has a non numeric value for `length`",{attr:n})),e.message||this.notValid||"has an incorrect length")}},numericality:function(t,e,n,r,i){if(d.isDefined(t)){var o,s,a=[],u={greaterThan:function(t,e){return e<t},greaterThanOrEqualTo:function(t,e){return e<=t},equalTo:function(t,e){return t===e},lessThan:function(t,e){return t<e},lessThanOrEqualTo:function(t,e){return t<=e},divisibleBy:function(t,e){return t%e==0}},c=(e=d.extend({},this.options,e)).prettify||i&&i.prettify||d.prettify;if(d.isString(t)&&e.strict){var f="^-?(0|[1-9]\\d*)";if(e.onlyInteger||(f+="(\\.\\d+)?"),f+="$",!new RegExp(f).test(t))return e.message||e.notValid||this.notValid||this.message||"must be a valid number"}if(!0!==e.noStrings&&d.isString(t)&&!d.isEmpty(t)&&(t=+t),!d.isNumber(t))return e.message||e.notValid||this.notValid||this.message||"is not a number";if(e.onlyInteger&&!d.isInteger(t))return e.message||e.notInteger||this.notInteger||this.message||"must be an integer";for(o in u)if(s=e[o],d.isNumber(s)&&!u[o](t,s)){var l="not"+d.capitalize(o),p=e[l]||this[l]||this.message||"must be %{type} %{count}";a.push(d.format(p,{count:s,type:c(o)}))}return e.odd&&t%2!=1&&a.push(e.notOdd||this.notOdd||this.message||"must be odd"),e.even&&t%2!=0&&a.push(e.notEven||this.notEven||this.message||"must be even"),a.length?e.message||a:void 0}},datetime:d.extend(function(t,e){if(!d.isFunction(this.parse)||!d.isFunction(this.format))throw new Error("Both the parse and format functions needs to be set to use the datetime/date validator");if(d.isDefined(t)){var n,r=[],i=(e=d.extend({},this.options,e)).earliest?this.parse(e.earliest,e):NaN,o=e.latest?this.parse(e.latest,e):NaN;return t=this.parse(t,e),isNaN(t)||e.dateOnly&&t%864e5!=0?(n=e.notValid||e.message||this.notValid||"must be a valid date",d.format(n,{value:arguments[0]})):(!isNaN(i)&&t<i&&(n=e.tooEarly||e.message||this.tooEarly||"must be no earlier than %{date}",n=d.format(n,{value:this.format(t,e),date:this.format(i,e)}),r.push(n)),!isNaN(o)&&o<t&&(n=e.tooLate||e.message||this.tooLate||"must be no later than %{date}",n=d.format(n,{date:this.format(o,e),value:this.format(t,e)}),r.push(n)),r.length?d.unique(r):void 0)}},{parse:null,format:null}),date:function(t,e){return e=d.extend({},e,{dateOnly:!0}),d.validators.datetime.call(d.validators.datetime,t,e)},format:function(t,e){(d.isString(e)||e instanceof RegExp)&&(e={pattern:e});var n,r=(e=d.extend({},this.options,e)).message||this.message||"is invalid",i=e.pattern;if(d.isDefined(t))return d.isString(t)?(d.isString(i)&&(i=new RegExp(e.pattern,e.flags)),(n=i.exec(t))&&n[0].length==t.length?void 0:r):r},inclusion:function(t,e){if(d.isDefined(t)&&(d.isArray(e)&&(e={within:e}),e=d.extend({},this.options,e),!d.contains(e.within,t))){var n=e.message||this.message||"^%{value} is not included in the list";return d.format(n,{value:t})}},exclusion:function(t,e){if(d.isDefined(t)&&(d.isArray(e)&&(e={within:e}),e=d.extend({},this.options,e),d.contains(e.within,t))){var n=e.message||this.message||"^%{value} is restricted";return d.format(n,{value:t})}},email:d.extend(function(t,e){var n=(e=d.extend({},this.options,e)).message||this.message||"is not a valid email";if(d.isDefined(t))return d.isString(t)&&this.PATTERN.exec(t)?void 0:n},{PATTERN:/^[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z]{2,}$/i}),equality:function(t,e,n,r,i){if(d.isDefined(t)){d.isString(e)&&(e={attribute:e});var o=(e=d.extend({},this.options,e)).message||this.message||"is not equal to %{attribute}";if(d.isEmpty(e.attribute)||!d.isString(e.attribute))throw new Error("The attribute must be a non empty string");var s=d.getDeepObjectValue(r,e.attribute),a=e.comparator||function(t,e){return t===e},u=e.prettify||i&&i.prettify||d.prettify;return a(t,s,e,n,r)?void 0:d.format(o,{attribute:u(e.attribute)})}},url:function(t,e){if(d.isDefined(t)){var n=(e=d.extend({},this.options,e)).message||this.message||"is not a valid url",r=e.schemes||this.schemes||["http","https"],i=e.allowLocal||this.allowLocal||!1;if(!d.isString(t))return n;var o="^(?:(?:"+r.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",s="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";return i?s+="?":o+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",o+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+s+")(?::\\d{2,5})?(?:[/?#]\\S*)?$",new RegExp(o,"i").exec(t)?void 0:n}}},i.formatters={detailed:function(t){return t},flat:d.flattenErrorsToArray,grouped:function(t){var e;for(e in t=d.groupErrorsByAttribute(t))t[e]=d.flattenErrorsToArray(t[e]);return t},constraint:function(t){var e;for(e in t=d.groupErrorsByAttribute(t))t[e]=t[e].map(function(t){return t.validator}).sort();return t}},i.exposeModule(i,this,t,e,n)}).call(r,e,t,null)}),i=e(function(t){var e,n;e=r,n=function(){var i=function(){},u="undefined",c=["trace","debug","info","warn","error"];function o(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function f(t,e){for(var n=0;n<c.length;n++){var r=c[n];this[r]=n<t?i:this.methodFactory(r,t,e)}this.log=this.debug}function l(t,e,n){return"debug"===(r=t)&&(r="log"),typeof console!==u&&(void 0!==console[r]?o(console,r):void 0!==console.log?o(console,"log"):i)||function(t,e,n){return function(){typeof console!==u&&(f.call(this,e,n),this[t].apply(this,arguments))}}.apply(this,arguments);var r}function n(n,t,e){var r,i=this,o="loglevel";function s(){var t;if(typeof window!==u){try{t=window.localStorage[o]}catch(t){}if(typeof t===u)try{var e=window.document.cookie,n=e.indexOf(encodeURIComponent(o)+"=");-1!==n&&(t=/^([^;]+)/.exec(e.slice(n))[1])}catch(t){}return void 0===i.levels[t]&&(t=void 0),t}}n&&(o+=":"+n),i.name=n,i.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},i.methodFactory=e||l,i.getLevel=function(){return r},i.setLevel=function(t,e){if("string"==typeof t&&void 0!==i.levels[t.toUpperCase()]&&(t=i.levels[t.toUpperCase()]),!("number"==typeof t&&0<=t&&t<=i.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(r=t,!1!==e&&function(t){var e=(c[t]||"silent").toUpperCase();if(typeof window!==u){try{return window.localStorage[o]=e}catch(t){}try{window.document.cookie=encodeURIComponent(o)+"="+e+";"}catch(t){}}}(t),f.call(i,t,n),typeof console===u&&t<i.levels.SILENT)return"No console available for logging"},i.setDefaultLevel=function(t){s()||i.setLevel(t,!1)},i.enableAll=function(t){i.setLevel(i.levels.TRACE,t)},i.disableAll=function(t){i.setLevel(i.levels.SILENT,t)};var a=s();null==a&&(a=null==t?"WARN":t),i.setLevel(a,!1)}var r=new n,s={};r.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=s[t];return e||(e=s[t]=new n(t,r.getLevel(),r.methodFactory)),e};var t=typeof window!==u?window.log:void 0;return r.noConflict=function(){return typeof window!==u&&window.log===r&&(window.log=t),r},r.getLoggers=function(){return s},r},t.exports?t.exports=n():e.log=n()}),s=Object.prototype.hasOwnProperty,o=a;function a(t,e,n){return 3===arguments.length?function(t,e,n){for(var r=Array.isArray(e)?e:e.split("."),i=0;i<r.length-1;i++){var o=r[i];a.p&&!s.call(t,o)&&(t[o]={}),t=t[o]}return t[r[i]]=n}.apply(null,arguments):function(t,e){for(var n=Array.isArray(e)?e:e.split("."),r=0;r<n.length;r++){var i=n[r];if(!t||!s.call(t,i)){t=void 0;break}t=t[i]}return t}.apply(null,arguments)}var u=e(function(t){(t.exports=function(){this.events={}}).prototype={emit:function(t){var e=[].slice.call(arguments,1);[].slice.call(this.events[t]||[]).filter(function(t){t.apply(this,e)})},on:function(t,e){if("production"!==process.env.NODE_ENV&&"function"!=typeof e)throw new Error("Listener must be a function");return(this.events[t]=this.events[t]||[]).push(e),function(){this.events[t]=this.events[t].filter(function(t){return t!==e})}.bind(this)}}});var c=function(t){t.events={}};function f(){}function l(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};e=e||f;var n=document.createElement("img");n.src=t,n.style.cssText="width: 0; height: 0;",n.addEventListener("error",function(){e({err:"加载失败"})}),n.addEventListener("load",function(){e()}),document.body.appendChild(n)}var p=e(function(t,e){t.exports=function(){var s=function(t){return!(!(r=t)||"object"!=typeof r||(e=t,"[object RegExp]"===(n=Object.prototype.toString.call(e))||"[object Date]"===n||e.$$typeof===i));var e,n,r},i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function a(t,e){return!1!==e.clone&&e.isMergeableObject(t)?o((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function u(t,e,n){return t.concat(e).map(function(t){return a(t,n)})}function c(e,n,r){var i={};return r.isMergeableObject(e)&&Object.keys(e).forEach(function(t){i[t]=a(e[t],r)}),Object.keys(n).forEach(function(t){r.isMergeableObject(n[t])&&e[t]?i[t]=function(t,e){if(!e.customMerge)return o;var n=e.customMerge(t);return"function"==typeof n?n:o}(t,r)(e[t],n[t],r):i[t]=a(n[t],r)}),i}function o(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||u,n.isMergeableObject=n.isMergeableObject||s;var r=Array.isArray(e),i=Array.isArray(t),o=r===i;return o?r?n.arrayMerge(t,e,n):c(t,e,n):a(e,n)}return o.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,e){return o(t,e,n)},{})},o}()}),d={baseURL:""},h=null;function m(){this.list=[],this.errList=[]}function g(){}function y(t){var e;t=t||{};var n={};for(e in d)n[e]=t[e]||d[e];this._netConfig=n,this._defaults={headers:{"Content-Type":"application/json"},responseType:"json"},this.defaults={headers:{}},this.interceptors={request:new m,response:new m}}function v(t){var n,e,r,i;this._instance=new y({baseURL:t.url||""}),this._instance.defaults={headers:{identifier:t.id}},this.auth=(n=this._instance,{signin:function(t,e){return n.post("login",{body:{username:t,password:e}})},logout:function(){return n.delete("user")},signup:function(t){return n.post("register",{body:{username:t.username,password:t.password,sms_code:t.sms_code}})},reset:function(t){return n.post("reset",{body:{username:t.username,password:t.password,sms_code:t.sms_code}})},onekey:function(t){return n.post("onekey",{body:{mac:t}})},getUser:function(){return n.get("user")}}),this.config=(e=this._instance,{get:function(){return e.get("config")},getPayment:function(){return e.get("payment")},sms:function(t){return t.captcha_code||(t={mobile:t.mobile}),e.post("sms",{body:t})}}),this.user=(r=this._instance,{pay:function(t){return r.post("user/transaction",{body:t})},getTransaction:function(t){return r.get("user/transaction/"+t)}}),this.vendor=(i=this._instance,{getPassParams:function(t){return i.get("user/pass",{params:t})}})}h="function"!=typeof fetch?require("node-fetch"):fetch,m.prototype.add=function(t,e){e=e||g,this.list.push(t),this.errList.push(e)},y.fetch=y.prototype.fetch=function(t,e){var n,r=this,i=this._netConfig.baseURL||"",o=p.all([this._defaults,this.defaults,e]);return o.body&&"application/json"===(n=o).headers["Content-Type"]&&(n.body=JSON.stringify(n.body)),o.params&&(t+=function(t){var e,n="?";for(e in t.params)n+=e+"="+String(t.params[e])+"&";return n=n.slice(0,n.length-1),delete t.params,n}(o)),h(i+t,o).then(function(t){return t.ok?"json"===o.responseType?t.json():t.text():t.json().then(function(e){if(!r.interceptors)throw e;throw r.interceptors.response.errList.forEach(function(t){t(e)}),e})})},y.prototype.get=function(t,e){},y.prototype.post=function(t,e){},y.prototype.put=function(t,e){},y.prototype.delete=function(t,e){},["GET","POST","DELETE","PUT"].forEach(function(i){y.prototype[i.toLowerCase()]=function(t,e){var n,r={method:i};for(n in e)"method"!==n&&(r[n]=e[n]);return this.fetch(t,r)}}),v.prototype.setToken=function(t){this._instance.defaults.headers.Authorization=t},v.prototype.removeToken=function(){this._instance.defaults.headers.Authorization="",delete this._instance.defaults.headers.Authorization};var b=new y;function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}new y;var E={bithighway:function(t){t.ip,t.mac;var n=t.url;return t.params,t.method,new Promise(function(t,e){l(n,function(){t()})})},ikuai:function(t){t.ip,t.mac;var n=t.url;return t.params,t.method,new Promise(function(t,e){l(n,function(){t()})})},panabit:function(t){t.ip,t.mac;var u=t.url;return t.params,t.method,new Promise(function(t,e){var n,r,i=location.href.split("?"),o=i[0],s=(n=i[1],r={},n&&n.split("&").forEach(function(t){var e=t.split("=");r[e.shift().trim()]=decodeURIComponent(e.join("="))}),r);delete s.redirect;var a=Object.entries(s).reduce(function(t,e){var n=w(e,2),r=n[0],i=n[1];return"".concat(t).concat(r,"=").concat(i,"&")},"?").slice(0,a.length-1);location.href="".concat(u,"&redirect=").concat(o).concat(a)})},http:function(t){t.ip,t.mac;var n=t.url,r=t.params;return t.method,new Promise(function(t,e){b.post(n,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r}).then(function(){t()}).catch(function(){e()})})}};function _(n){return new Promise(function(t,e){!function e(n,r){r.checkTime--;var t=Date.now();l("https://weiyunjian-check-1251304829.picsh.myqcloud.com/"+t+".jpg",function(t){if(t){if(r.checkTime<1)return n.reject();clearTimeout(r.timer),r.timer=setTimeout(function(){e(n,r)},1e3)}else n.resolve()})}({resolve:t,reject:e},{checkTime:n,timer:null})})}var x=new Error("Need portal id.");function T(t){if(this.status="init",this.deviceType=function(){try{if(!navigator)return"server"}catch(t){return"server"}var t=navigator.userAgent||navigator.vendor||window.opera;return/micromessenger/i.test(t.toLowerCase())?"wechat":/ipad|iphone os|midp|rv:1.2.3.4|ucweb|android|windows ce|windows mobile/i.test(t)?"mobile":"pc"}(),this.__VERSION__="0.0.1",this._data={},this._config=t,this._events=new u,this._api=new v({url:t.api_url,id:t.id}),this.vendors=E,this.auth={vendors:E,check:_},this.net=this._api._instance,!t||!t.id)throw x;t.debug?i.setLevel(i.levels.DEBUG):i.setLevel(i.levels.ERROR),this._bootstrap()}return T.auth={vendors:E,check:_},T.prototype.validate=function(){return!0},T.prototype.on=function(t,e){t===this.status?e():this._events.on(t,e)},T.prototype.destroy=function(){"destroyed"!==this.status&&(this._events.emit("destroyed"),this._unbindEvents(),this.status="destroyed")},T.prototype.get=function(t){var e=o(this._data,t);return i.debug("get: "+t+", result: "+e),e},T.prototype.set=function(t,e){var n=o(this._data,t,e);return i.debug("set: "+t+", result: ",n),n},T.prototype.signin=function(t,e){var n=this;return this._api.auth.signin(t,e).then(function(t){return n._api.setToken(t.data.token),n.set("user",t.data)})},T.prototype.onekey=function(t){var e=this;return this._api.auth.onekey(t).then(function(t){return e._api.setToken(t.data.token),e.set("user",t.data)})},T.prototype.checkAuth=function(t){var e=this;return this._api.setToken(t),this._api.auth.getUser().then(function(t){return e.set("user",t.data)}).catch(function(t){throw e._api.removeToken(),t})},T.prototype.logout=function(){var t=this;return this._api.auth.logout().then(function(){t._api.removeToken()}).catch(function(){t._api.removeToken()})},T.prototype.signup=function(t){var e=this;return this._api.auth.signup(t).then(function(t){return e._api.setToken(t.data.token),e.set("user",t.data)})},T.prototype.reset=function(t){return this._api.auth.reset(t)},T.prototype.fetchConfig=function(){return this._api.config.get().then(function(t){return t.data})},T.prototype.fetchPayment=function(){var e=this;return this._api.config.getPayment().then(function(t){return e.set("packages",t.packages),e.set("payments",t.methods),t})},T.prototype.pay=function(t){return this._api.user.pay(t)},T.prototype.getTransaction=function(t){return this._api.user.getTransaction(t)},T.prototype.getPassParams=function(t){return this._api.vendor.getPassParams(t)},T.prototype.sms=function(t){return this._api.config.sms(t)},T.prototype._bootstrap=function(){this.status="bootstrap",this._events.emit("bootstrap")},T.prototype._unbindEvents=function(){c(this._events)},i.setDefaultLevel(i.levels.INFO),T.prototype.validate=n,t.Portal=T,t.default=T,t}({});
